(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{148:function(t,e,n){},149:function(t,e,n){},151:function(t,e,n){},152:function(t,e,n){},176:function(t,e,n){},177:function(t,e,n){},178:function(t,e,n){},199:function(t,e,n){"use strict";n.r(e);var a=n(3),r=n(0),c=n.n(r),i=n(11),s=n.n(i),l=(n(148),n(149),n(61)),o=n(24),u=n.n(o),h=n(51),j=n(15),d=(n(151),n(12)),p=n.n(d),b=n(60),f=n.n(b),m=n(62),x=n(128),O=n.n(x),g=n(234);n(152);var v=function(t){var e=Object(r.useState)(t.weatherConfig),n=Object(j.a)(e,2),c=n[0],i=n[1];return Object(r.useEffect)((function(){i(t.weatherConfig)}),[t]),Object(a.jsxs)(p.a,{className:"side-menu-container",component:"div",bgcolor:"primary.light",color:"primary.contrastText",display:"flex",justifyContent:"space-between",flexDirection:"column",children:[Object(a.jsxs)(p.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(a.jsx)(p.a,{className:"actions-container",display:"flex",justifyContent:"space-between",p:3,pt:2,children:Object(a.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){t.onOpenSearchMenu()},children:Object(a.jsx)(m.a,{variant:"button",children:"Search for places"})})}),Object(a.jsx)(p.a,{className:"clouds-container",display:"flex",alignItems:"center",justifyContent:"center",children:c.imgUrl?Object(a.jsx)("img",{className:"cloud-img",src:c.imgUrl}):Object(a.jsx)(g.a,{variant:"rect",width:"250px",height:"250px",animation:"wave"})}),Object(a.jsx)(p.a,{style:{width:"80%"},mt:15,children:Object(a.jsx)(m.a,{variant:"h1",component:"h2",style:{width:"100%"},children:c.temperature.default?c.temperature.default:Object(a.jsx)(g.a,{width:"100%",variant:"text",animation:"wave"})})}),Object(a.jsx)(p.a,{style:{width:"80%"},mt:15,children:Object(a.jsx)(m.a,{variant:"h4",component:"h4",style:{width:"100%"},children:c.situation?c.situation:Object(a.jsx)(g.a,{width:"100%",variant:"text",animation:"wave"})})})]}),Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",flexDirection:"column",mt:2,children:[Object(a.jsx)(p.a,{className:"date-container",style:{width:"80%"},children:Object(a.jsx)(m.a,{variant:"body2",style:{width:"100%"},children:c.date.title&&c.date.fullDate?"today . "+c.date.fullDate:Object(a.jsx)(g.a,{width:"100%",variant:"text",animation:"wave"})})}),Object(a.jsx)(p.a,{style:{width:"80%"},mt:1,children:c.local?Object(a.jsxs)(m.a,{variant:"body2",style:{width:"100%"},children:[Object(a.jsx)(O.a,{}),c.local]}):Object(a.jsx)(g.a,{width:"100%",variant:"text",animation:"wave"})})]})]})},w=n(246),y=n(247),C=(n(176),n(244)),S=n(238),k=n(235),P=n(237),N=n(239),D=n(240),I=n(241),_=n(130),F=n.n(_),L=n(129),M=n.n(L),T=n(131),U=n.n(T),E=Object(k.a)((function(t){return{cssLabel:{color:"white"},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"white !important"},color:"white !important"},cssFocused:{color:"white !important"},notchedOutline:{borderWidth:"1px",borderColor:"white !important"}}}));var A=function(t){var e=Object(r.useState)(t.open),n=Object(j.a)(e,2),c=(n[0],n[1]),i=E(),s=Object(r.useState)(""),l=Object(j.a)(s,2),o=l[0],u=l[1],h=Object(r.useState)(t.places),d=Object(j.a)(h,2),p=d[0],b=d[1];Object(r.useEffect)((function(){c(t.open),b(t.places)}),[t]);var x=function(){u(""),t.onClose()};return Object(a.jsx)(w.a,{anchor:"left",open:t.open,onClose:x,children:Object(a.jsxs)(y.a,{className:"search-menu-container",style:{overflow:"auto"},bgcolor:"primary.dark",pl:1,pr:1,color:"primary.contrastText",display:"flex",flexDirection:"column",children:[Object(a.jsx)(y.a,{display:"flex",justifyContent:"flex-end",mt:1,children:Object(a.jsx)(f.a,{classes:{root:i.cssLabel},onClick:function(){x()},children:Object(a.jsx)(M.a,{})})}),Object(a.jsxs)(y.a,{display:"flex",justifyContent:"space-between",pt:2,children:[Object(a.jsx)(C.a,{label:"search location",id:"outlined-start-adornment",value:o,onChange:function(t){u(t.target.value)},InputProps:{startAdornment:Object(a.jsx)(S.a,{position:"start",children:Object(a.jsx)(F.a,{})}),classes:{root:i.cssOutlinedInput,focused:i.cssFocused,notchedOutline:i.notchedOutline}},InputLabelProps:{classes:{root:i.cssLabel,focused:i.cssFocused}},variant:"outlined"}),Object(a.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){t.onSearchPlaces(o)},children:Object(a.jsx)(m.a,{variant:"button",children:"Search"})})]}),Object(a.jsx)(P.a,{children:p.map((function(e,n){return Object(a.jsxs)(N.a,{button:!0,onClick:function(){var n;n=e.woeid,t.onClickPlace(n),x()},children:[Object(a.jsx)(D.a,{primary:e.title}),Object(a.jsx)(I.a,{className:i.cssLabel,children:Object(a.jsx)(U.a,{})})]},n)}))})]})})},B=(n(177),n(50)),H=n.n(B);var R=function(t){var e=Object(r.useState)(t.weatherConfig),n=Object(j.a)(e,2),c=n[0],i=n[1];return Object(r.useEffect)((function(){i(t.weatherConfig)}),[t]),Object(a.jsxs)(p.a,{className:"weather-card",bgcolor:"primary.light",children:[Object(a.jsx)(H.a,{variant:"body1",style:{textAlign:"center"},children:c.date.fullDate}),Object(a.jsx)(p.a,{display:"flex",alignItems:"center",justifyContent:"center",className:"weather-image",children:Object(a.jsx)("img",{src:c.imgUrl})}),Object(a.jsxs)(p.a,{display:"flex",justifyContent:"space-between",pr:1,pl:1,children:[Object(a.jsx)(H.a,{variant:"body2",children:c.temperature.min}),Object(a.jsx)(H.a,{variant:"body2",children:c.temperature.max})]})]})},J=(n(178),n(242));var W=function(t){var e=Object(r.useState)(t.hightlight),n=Object(j.a)(e,2),c=n[0],i=n[1],s=Object(r.useState)(t.width),l=Object(j.a)(s,2),o=l[0],u=l[1],h=Object(r.useState)(t.progress),d=Object(j.a)(h,2),b=d[0],f=d[1];return Object(r.useEffect)((function(){i(t.hightlight),u(t.width),f(t.progress)}),[t]),Object(a.jsxs)(p.a,{className:"hightlight-card-container",bgcolor:"primary.light",style:{width:o},display:"flex",flexDirection:"column",alignItems:"center",p:3,children:[Object(a.jsx)(H.a,{variant:"h6",children:c.header}),Object(a.jsx)(H.a,{variant:"h2",children:c.title}),b?Object(a.jsx)(J.a,{style:{width:"80%",height:"10px",marginTop:"8px"},variant:"determinate",value:b.value}):""]})},$=n(132),q=n.n($).a.create({baseURL:"https://cors-anywhere-nathan-chacon.herokuapp.com/https://www.metaweather.com/api/",responseType:"json"}),V=n(243),z=n.p+"static/media/Sad-Cloud.2b469137.svg";var G=function(){var t=Object(r.useState)({temperature:{default:null,min:null,max:null},local:null,situation:null,date:{title:null,fullDate:null},imgUrl:null,hightlights:{wind:null,humidity:null,airPressure:null,visibility:null}}),e=Object(j.a)(t,2),n=e[0],c=e[1],i=Object(r.useState)([null,null,null,null,null]),s=Object(j.a)(i,2),o=s[0],d=s[1],b=Object(r.useState)([null,null,null,null]),f=Object(j.a)(b,2),x=f[0],O=f[1],w=Object(r.useState)(!1),y=Object(j.a)(w,2),C=y[0],S=y[1],k=Object(r.useState)([]),P=Object(j.a)(k,2),N=P[0],D=P[1],I=Object(r.useState)(!1),_=Object(j.a)(I,2),F=_[0],L=_[1];Object(r.useEffect)((function(){M()}),[]);var M=function(){var t=Object(h.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B();case 3:return e=t.sent,t.next=6,H(e.coords.latitude,e.coords.longitude);case 6:n=t.sent,T(n),L(!1),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),L(!0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(h.a)(u.a.mark((function t(e){var n,a,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,et(),t.next=4,U(e);case 4:n=t.sent,a=E(n),r=a.shift(),i=$(r),c((function(t){return Object(l.a)(Object(l.a)({},t),r)})),d((function(t){return a})),O((function(t){return i})),L(!1),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),L(!0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(h.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(t){var e=[];return t.consolidated_weather.forEach((function(n){var a="https://www.metaweather.com/static/img/weather/".concat(n.weather_state_abbr,".svg"),r=X("teste",Y(new Date(n.applicable_date).toUTCString())),c=K(Math.floor(n.the_temp)+"\xb0C",Math.floor(n.max_temp)+"\xb0C",Math.floor(n.min_temp)+"\xb0C"),i=Q(Math.floor(n.wind_speed)+" mph",{title:n.humidity+"%",progress:n.humidity},Math.floor(n.air_pressure)+" mb",Math.floor(n.visibility)+" miles"),s=G(c,t.title,n.weather_state_name,r,a,i);e.push(s)})),e},B=function(){return new Promise((function(t,e){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){t(e)}),(function(t){e("Cannot get position")})):e("Cannot get position")}))},H=function(t,e){return new Promise(function(){var n=Object(h.a)(u.a.mark((function n(a,r){var c,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,q.get("location/search/?lattlong=".concat(t,",").concat(e));case 3:c=n.sent,i=c.data[0].woeid,a(i),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r("Cannot get woid");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t,e){return n.apply(this,arguments)}}())},J=function(t){return new Promise(function(){var e=Object(h.a)(u.a.mark((function e(n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("location/".concat(t));case 3:r=e.sent,n(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a("Cannot get location weather info");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())},$=function(t){return console.log("testee",t),[{header:"Wind status",progress:null,title:t.hightlights.wind},{header:"Humidity",progress:{value:t.hightlights.humidity.progress},title:t.hightlights.humidity.title},{header:"Visibility",progress:null,title:t.hightlights.visibility},{header:"Air pressure",progress:null,title:t.hightlights.airPressure}]},G=function(t,e,n,a,r,c){return{temperature:t,local:e,situation:n,date:a,imgUrl:r,hightlights:c}},K=function(t,e,n){return{default:t,max:e,min:n}},Q=function(t,e,n,a){return{wind:t,humidity:e,airPressure:n,visibility:a}},X=function(t,e){return{title:t,fullDate:e}},Y=function(t){var e=t.split(" ");return e[0]+e[1]+e[2]},Z=function(){var t=Object(h.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=11;break}return t.prev=1,t.next=4,tt(e);case 4:n=t.sent,D((function(t){return n})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("error teste",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),tt=function(t){return new Promise((function(e,n){q.get("/api/location/search/?query=".concat(t)).then((function(t){e(t.data)}),(function(t){n(t)}))}))},et=function(){c((function(t){return Object(l.a)(Object(l.a)({},t),{},{temperature:{default:null,min:null,max:null},local:null,situation:null,date:{title:null,fullDate:null},imgUrl:null,hightlights:{wind:null,humidity:null,airPressure:null,visibility:null}})})),d([null,null,null,null,null]),O([null,null,null,null])};return Object(a.jsxs)(p.a,{component:"section",className:"home-container",display:"flex",bgcolor:"primary.dark",color:"primary.contrastText",children:[Object(a.jsx)(v,{weatherConfig:n,onOpenSearchMenu:function(){S(!0)}}),Object(a.jsx)(p.a,{className:"main-wrapper",display:"flex",justifyContent:"center",children:F?Object(a.jsx)(p.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(a.jsx)("img",{src:z})}):Object(a.jsxs)(p.a,{className:"main-content",pt:5,paddingBottom:5,children:[Object(a.jsx)(V.a,{container:!0,className:"cards-container",spacing:2,children:o.map((function(t,e){return Object(a.jsx)(V.a,{item:!0,xs:6,sm:6,md:6,lg:4,children:t?Object(a.jsx)(R,{weatherConfig:t},e):Object(a.jsx)(g.a,{height:"100%",animation:"wave"})})}))}),Object(a.jsxs)(p.a,{className:"cards-hightlights-container",style:{width:"100%"},display:"flex",flexDirection:"column",mt:3,children:[Object(a.jsx)(p.a,{style:{width:"100%"},mb:2,children:Object(a.jsx)(m.a,{variant:"h5",children:"Today`s HightLights"})}),Object(a.jsx)(V.a,{container:!0,spacing:2,children:x.map((function(t,e){return Object(a.jsx)(V.a,{item:!0,xs:12,sm:12,md:12,lg:6,children:t?Object(a.jsx)(W,{hightlight:t,width:"100%",progress:t.progress},e):Object(a.jsx)(g.a,{height:"200px",animation:"wave"})})}))})]}),Object(a.jsx)(p.a,{mt:12,children:Object(a.jsx)(m.a,{variant:"body1",style:{textAlign:"center"},children:"Nathan Chacon @ DevChallenges.io"})})]})}),Object(a.jsx)(A,{open:C,onClose:function(){S(!1),D([])},onSearchPlaces:Z,places:N,onClickPlace:function(t){T(t)}})]})},K=n(133),Q=n(13);var X=function(){return Object(a.jsx)(K.a,{children:Object(a.jsx)(Q.c,{children:Object(a.jsx)(Q.a,{exact:!0,path:"/",children:Object(a.jsx)(G,{})})})})},Y=n(134),Z=n(233),tt=n(94),et=n.n(tt),nt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,249)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))},at=Object(Y.a)({palette:{primary:et.a,secondary:{main:"#01579b"}},typography:{fontFamily:'"Raleway", "Roboto", "Helvetica", "Arial", sans-serif'}});s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Z.a,{theme:at,children:Object(a.jsx)(X,{})})}),document.getElementById("root")),nt()}},[[199,1,2]]]);
//# sourceMappingURL=main.18bfc3ba.chunk.js.map